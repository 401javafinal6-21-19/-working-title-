/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package BadDriving;


import com.pi4j.io.gpio.GpioController;
import com.pi4j.io.gpio.GpioFactory;

import java.io.IOException;

public class App {

    /**
     * @param args - standard for a pain function.
     * @throws InterruptedException - throws if anything interrupts the thread in the while true loop. This thread exists to keep the app open
     * so that the car can be ready to receive commands.
     *
     * Car r is a new instance of the car class which connects to the firebase database and recieves commands.
     *
     *GpioController giop is an instance of a GpioFactory from the J4Pi library which allows the car access and control
     * over the GPIO pins on the pie.
     *
     * While True loop and Thread.sleep(100) simply exsist to keep the car awake and awaiting commands
     */
    public static void main(String[] args) {

        Car r = new Car();
        try {
            r.getDB();
        } catch (IOException e) {

            System.out.println(e + " Could not connect to Firebase Database and receive commands on main");
            e.printStackTrace();
        }

        final GpioController gpio = GpioFactory.getInstance();

        //keeps the App running and awaiting commands
        while (true) {
            try {
                Thread.sleep(100);
            } catch (InterruptedException ex) {

                System.out.println(ex + "sleep was interrupted on main");
                ex.printStackTrace();
            }
        }

    }
}

